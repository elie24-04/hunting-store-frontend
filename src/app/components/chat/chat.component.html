<!-- Floating Button -->
<button class="chat-fab" (click)="toggleChat()">
  ðŸ’¬
</button>

<!-- Chat Window -->
<div class="chat-box" *ngIf="opened">

  <div class="chat-header">
    <span>Hunting Assistant</span>
    <small class="badge">AI Powered</small>
    <button class="close-btn" (click)="toggleChat()">âœ•</button>
  </div>

  <div class="chat-messages">
    <div
      *ngFor="let msg of messages"
      class="chat-message"
      [class.user]="msg.from === 'user'"
      [class.bot]="msg.from === 'bot'"
    >
      {{ msg.text }}
    </div>

    <div *ngIf="loading" class="chat-message bot">
      Typingâ€¦
    </div>
  </div>

  <form class="chat-input" (ngSubmit)="send()">
    <input
      type="text"
      [(ngModel)]="input"
      name="message"
      placeholder="Ask about hunting gearâ€¦"
      [disabled]="loading"
    />

    <!-- âœ… Disabled while loading -->
    <button type="submit" [disabled]="loading">
      Send
    </button>
  </form>

</div>
